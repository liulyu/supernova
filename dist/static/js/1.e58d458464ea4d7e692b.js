webpackJsonp([1],{CwSZ:function(e,t,r){"use strict";var i=r("p8xL"),n=r("XgCd"),o={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Date.prototype.toISOString,a={delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,serializeDate:function(e){return s.call(e)},skipNulls:!1,strictNullHandling:!1},l=function e(t,r,n,o,s,l,c,d,u,f,p,m){var y=t;if("function"==typeof c)y=c(r,y);else if(y instanceof Date)y=f(y);else if(null===y){if(o)return l&&!m?l(r,a.encoder):r;y=""}if("string"==typeof y||"number"==typeof y||"boolean"==typeof y||i.isBuffer(y))return l?[p(m?r:l(r,a.encoder))+"="+p(l(y,a.encoder))]:[p(r)+"="+p(String(y))];var h,v=[];if(void 0===y)return v;if(Array.isArray(c))h=c;else{var g=Object.keys(y);h=d?g.sort(d):g}for(var b=0;b<h.length;++b){var O=h[b];s&&null===y[O]||(v=Array.isArray(y)?v.concat(e(y[O],n(r,O),n,o,s,l,c,d,u,f,p,m)):v.concat(e(y[O],r+(u?"."+O:"["+O+"]"),n,o,s,l,c,d,u,f,p,m)))}return v};e.exports=function(e,t){var r=e,s=t?i.assign({},t):{};if(null!==s.encoder&&void 0!==s.encoder&&"function"!=typeof s.encoder)throw new TypeError("Encoder has to be a function.");var c=void 0===s.delimiter?a.delimiter:s.delimiter,d="boolean"==typeof s.strictNullHandling?s.strictNullHandling:a.strictNullHandling,u="boolean"==typeof s.skipNulls?s.skipNulls:a.skipNulls,f="boolean"==typeof s.encode?s.encode:a.encode,p="function"==typeof s.encoder?s.encoder:a.encoder,m="function"==typeof s.sort?s.sort:null,y=void 0!==s.allowDots&&s.allowDots,h="function"==typeof s.serializeDate?s.serializeDate:a.serializeDate,v="boolean"==typeof s.encodeValuesOnly?s.encodeValuesOnly:a.encodeValuesOnly;if(void 0===s.format)s.format=n.default;else if(!Object.prototype.hasOwnProperty.call(n.formatters,s.format))throw new TypeError("Unknown format option provided.");var g,b,O=n.formatters[s.format];"function"==typeof s.filter?r=(b=s.filter)("",r):Array.isArray(s.filter)&&(g=b=s.filter);var j,w=[];if("object"!=typeof r||null===r)return"";j=s.arrayFormat in o?s.arrayFormat:"indices"in s?s.indices?"indices":"repeat":"indices";var x=o[j];g||(g=Object.keys(r)),m&&g.sort(m);for(var C=0;C<g.length;++C){var _=g[C];u&&null===r[_]||(w=w.concat(l(r[_],_,x,d,u,f?p:null,b,m,y,h,O,v)))}var P=w.join(c),D=!0===s.addQueryPrefix?"?":"";return P.length>0?D+P:""}},DDCP:function(e,t,r){"use strict";var i=r("p8xL"),n=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:i.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},s=function(e,t,r){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,s=/(\[[^[\]]*])/.exec(i),a=s?i.slice(0,s.index):i,l=[];if(a){if(!r.plainObjects&&n.call(Object.prototype,a)&&!r.allowPrototypes)return;l.push(a)}for(var c=0;null!==(s=o.exec(i))&&c<r.depth;){if(c+=1,!r.plainObjects&&n.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+i.slice(s.index)+"]"),function(e,t,r){for(var i=t,n=e.length-1;n>=0;--n){var o,s=e[n];if("[]"===s)o=(o=[]).concat(i);else{o=r.plainObjects?Object.create(null):{};var a="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(a,10);!isNaN(l)&&s!==a&&String(l)===a&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[])[l]=i:o[a]=i}i=o}return i}(l,t,r)}};e.exports=function(e,t){var r=t?i.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||i.isRegExp(r.delimiter)?r.delimiter:o.delimiter,r.depth="number"==typeof r.depth?r.depth:o.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:o.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:o.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:o.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:o.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:o.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:o.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:o.strictNullHandling,""===e||null===e||void 0===e)return r.plainObjects?Object.create(null):{};for(var a="string"==typeof e?function(e,t){for(var r={},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,a=i.split(t.delimiter,s),l=0;l<a.length;++l){var c,d,u=a[l],f=u.indexOf("]="),p=-1===f?u.indexOf("="):f+1;-1===p?(c=t.decoder(u,o.decoder),d=t.strictNullHandling?null:""):(c=t.decoder(u.slice(0,p),o.decoder),d=t.decoder(u.slice(p+1),o.decoder)),n.call(r,c)?r[c]=[].concat(r[c]).concat(d):r[c]=d}return r}(e,r):e,l=r.plainObjects?Object.create(null):{},c=Object.keys(a),d=0;d<c.length;++d){var u=c[d],f=s(u,a[u],r);l=i.merge(l,f,r)}return i.compact(l)}},"W1+L":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("Dd8w"),n=r.n(i),o=r("//Fk"),s=r.n(o),a=r("bOdI"),l=r.n(a),c=r("woOf"),d=r.n(c),u=r("Gak4"),f=r("T452"),p=r("mtWM"),m=r.n(p),y=r("mw3O"),h=r.n(y);var v=r("GQaK"),g=r("3Q4o"),b={name:"slider",data:function(){return{dots:[],currentPageIndex:0}},props:{loop:{type:Boolean,default:!0},autoPlay:{type:Boolean,default:!0},interval:{type:Number,default:4e3}},mounted:function(){var e=this;this.$nextTick(function(){e._setSliderWidth(),e.initDots(),e._initSlider(),e.autoPlay&&e._play()}),window.addEventListener("resize",function(){e.slider||retrun,e._setSliderWidth(!0),e.slider.refresh()})},methods:{_setSliderWidth:function(e){this.childs=this.$refs.sliderGroup.children;for(var t=this.$refs.slider.clientWidth,r=0,i=0;i<this.childs.length;i++){var n=this.childs[i];Object(g.a)(n,"slider-item"),n.style.width=t+"px",r+=t}this.loop&&!e&&(r+=2*t),this.$refs.sliderGroup.style.width=r+"px"},_initSlider:function(){var e=this;this.slider=new v.a(this.$refs.slider,{scrollX:!0,scrollY:!1,momentum:!1,snap:{loop:this.loop,threshold:.3,speed:400},click:!0}),this.slider.on("scrollEnd",function(){var t=e.slider.getCurrentPage().pageX;e.currentPageIndex=t,e.autoPlay&&(clearTimeout(e.timer),e._play())})},initDots:function(){this.dots=new Array(this.childs.length)},_play:function(){var e=this,t=this.currentPageIndex;this.loop&&(4===t?t=0:t+=1),this.timer=setTimeout(function(){e.slider.goToPage(t,0,400)},this.interval)}}},O={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"slider",staticClass:"slider"},[r("div",{ref:"sliderGroup",staticClass:"sliderGroup"},[e._t("default")],2),e._v(" "),r("div",{staticClass:"dots"},e._l(e.dots,function(t,i){return r("span",{staticClass:"dot",class:{active:e.currentPageIndex===i}})}),0)])},staticRenderFns:[]};var j=r("VU/8")(b,O,!1,function(e){r("qQcO")},"data-v-9c040574",null).exports,w=r("qwAB"),x=r("Uedi"),C=r("flXH"),_=r("NYxO"),P={data:function(){return{recommends:[],discList:[]}},mixins:[C.b],created:function(){this._getRecommend(),this._getDiscList()},destroyed:function(){clearTimeout(this.timer)},methods:n()({},Object(_.d)(["SET_DISC"]),{toDetail:function(e){this.$router.push({path:"/Recommend/"+e.dissid}),this.SET_DISC(e)},handlePlaylist:function(e){var t=e.length>0?60:0;this.$refs.recommend.style.bottom=t+"px",this.$refs.scroll.refresh()},_getRecommend:function(){var e,t=this;(e=d()({},f.b,l()({options:"h5"},"options","1")),Object(u.a)("https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg",e,f.c)).then(function(e){e.code===f.a&&(t.recommends=e.data.slider)})},_getDiscList:function(){var e,t=this;(e=d()({},f.b,{platform:"yqq",hostUin:0,sin:0,ein:29,sortId:5,needNewCode:0,categoryId:1e7,rnd:Math.random(),format:"json"}),m.a.get("/api/getDiscList",h.a.stringify({params:e})).then(function(e){return s.a.resolve(e.data)})).then(function(e){e.code===f.a?t.discList=e.data.list:console.log("没,没有推荐")})},loadImg:function(){this.$refs.scroll.refresh()}}),components:{slider:j,scroll:w.a,load:x.a}},D={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"recommend",staticClass:"recommend"},[r("scroll",{ref:"scroll",staticClass:"recommend-content",attrs:{data:e.discList}},[r("div",[e.recommends.length?r("div",{ref:"sliderWrapper",staticClass:"slider-wrapper"},[r("slider",e._l(e.recommends,function(t){return e.recommends.length?r("div",[r("a",{attrs:{href:t.linkUrl}},[r("img",{staticClass:"needsclick",attrs:{src:t.picUrl},on:{load:e.loadImg}})])]):e._e()}),0)],1):e._e(),e._v(" "),r("div",{staticClass:"recommend-list"},[r("h1",{staticClass:"list-title"},[e._v("热门歌单推荐")]),e._v(" "),r("ul",e._l(e.discList,function(t){return r("li",{staticClass:"item",on:{click:function(r){return e.toDetail(t)}}},[r("div",{staticClass:"icon"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imgurl,expression:"item.imgurl"}],staticClass:"needsclick",attrs:{alt:"",width:"60px",height:"60px"}})]),e._v(" "),r("div",{staticClass:"text"},[r("h3",{staticClass:"name",domProps:{textContent:e._s(t.creator.name)}}),e._v(" "),r("p",{staticClass:"desc",domProps:{textContent:e._s(t.dissname)}})])])}),0)])]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.discList.length,expression:"!discList.length"}],staticClass:"load"},[r("load")],1)]),e._v(" "),r("router-view")],1)},staticRenderFns:[]};var A=r("VU/8")(P,D,!1,function(e){r("X8+v")},"data-v-4e2b0799",null);t.default=A.exports},"X8+v":function(e,t){},XgCd:function(e,t,r){"use strict";var i=String.prototype.replace,n=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return i.call(e,n,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},mw3O:function(e,t,r){"use strict";var i=r("CwSZ"),n=r("DDCP"),o=r("XgCd");e.exports={formats:o,parse:n,stringify:i}},p8xL:function(e,t,r){"use strict";var i=Object.prototype.hasOwnProperty,n=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(r[i]=e[i]);return r};e.exports={arrayToObject:o,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],i=0;i<t.length;++i)for(var n=t[i],o=n.obj[n.prop],s=Object.keys(o),a=0;a<s.length;++a){var l=s[a],c=o[l];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:o,prop:l}),r.push(c))}return function(e){for(var t;e.length;){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var i=[],n=0;n<t.length;++n)void 0!==t[n]&&i.push(t[n]);r.obj[r.prop]=i}}return t}(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),r="",i=0;i<t.length;++i){var o=t.charCodeAt(i);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?r+=t.charAt(i):o<128?r+=n[o]:o<2048?r+=n[192|o>>6]+n[128|63&o]:o<55296||o>=57344?r+=n[224|o>>12]+n[128|o>>6&63]+n[128|63&o]:(i+=1,o=65536+((1023&o)<<10|1023&t.charCodeAt(i)),r+=n[240|o>>18]+n[128|o>>12&63]+n[128|o>>6&63]+n[128|63&o])}return r},isBuffer:function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=typeof r){if(Array.isArray(t))t.push(r);else{if("object"!=typeof t)return[t,r];(n.plainObjects||n.allowPrototypes||!i.call(Object.prototype,r))&&(t[r]=!0)}return t}if("object"!=typeof t)return[t].concat(r);var s=t;return Array.isArray(t)&&!Array.isArray(r)&&(s=o(t,n)),Array.isArray(t)&&Array.isArray(r)?(r.forEach(function(r,o){i.call(t,o)?t[o]&&"object"==typeof t[o]?t[o]=e(t[o],r,n):t.push(r):t[o]=r}),t):Object.keys(r).reduce(function(t,o){var s=r[o];return i.call(t,o)?t[o]=e(t[o],s,n):t[o]=s,t},s)}}},qQcO:function(e,t){}});
//# sourceMappingURL=1.e58d458464ea4d7e692b.js.map