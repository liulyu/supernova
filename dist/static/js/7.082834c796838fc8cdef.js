webpackJsonp([7],{YOyO:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r=e("Dd8w"),a=e.n(r),c=e("2X+S"),i=e("rBvC"),o=e("8stH"),n=e("T452"),h=e("qwAB"),u=e("vhoT"),l=e("XEAW"),f=e("NYxO"),y=e("flXH"),v={data:function(){return{hotKey:[],query:""}},mixins:[y.b,y.c],computed:a()({},Object(f.c)(["searchHistory"]),{shortcut:function(){return this.hotKey.concat(this.searchHistory)}}),watch:{query:function(t){var s=this;this.$nextTick(function(){t||s.$refs.shortcut.refresh()})}},components:{serachBox:c.a,suggest:i.a,searchList:u.a,confirm:l.a,scroll:h.a},methods:a()({handlePlaylist:function(t){var s=t.length>0?60:0;this.$refs.shortcutWrapper.style.bottom=s+"px",this.$refs.shortcut.refresh(),this.$refs.searchResult.style.bottom=s+"px",this.$refs.suggestList.refresh()},confirm:function(){this.clearSearchHistory()},_clearSearchHistory:function(){this.$refs.isConfirm.show()}},Object(f.b)(["saveHistory","deleteOneHistory","clearSearchHistory"]),{_getHotKey:function(){var t=this;Object(o.a)().then(function(s){s.code===n.a&&(t.hotKey=s.data.hotkey.splice(0,10))}).catch(function(t){console.log(t)})}}),created:function(){this._getHotKey()}},d={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"search"},[e("div",{staticClass:"search-box-wrap"},[e("serachBox",{ref:"serachBox",on:{query:t.onQueryChange}})],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.query,expression:"!query"}],ref:"shortcutWrapper",staticClass:"shortcut-wrapper"},[e("scroll",{ref:"shortcut",staticClass:"shortcut",attrs:{data:t.shortcut}},[e("div",[e("div",{staticClass:"hot-key"},[e("h1",{staticClass:"title"},[t._v("热门搜索")]),t._v(" "),e("ul",t._l(t.hotKey,function(s){return e("li",{staticClass:"item",on:{click:function(e){return t.addQuery(s.k)}}},[e("span",[t._v(t._s(s.k))])])}),0)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.searchHistory&&t.searchHistory.length,expression:"searchHistory && searchHistory.length"}],staticClass:"search-history"},[e("h1",{staticClass:"title"},[e("span",{staticClass:"text"},[t._v("搜索历史")]),t._v(" "),e("span",{staticClass:"clear",on:{click:t._clearSearchHistory}},[e("i",{staticClass:"icon-clear"})])]),t._v(" "),e("searchList",{attrs:{searches:t.searchHistory},on:{select:t.addQuery,delete:t.deleteOneHistory}})],1)])])],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.query,expression:"query"}],ref:"searchResult",staticClass:"search-result"},[e("suggest",{ref:"suggestList",attrs:{query:t.query},on:{setSearchHistory:t.saveHistory}})],1),t._v(" "),e("confirm",{ref:"isConfirm",attrs:{text:"是否清空所有搜索记录!"},on:{confirm:t.confirm}}),t._v(" "),e("router-view")],1)},staticRenderFns:[]};var p=e("VU/8")(v,d,!1,function(t){e("f/dU")},"data-v-51b80248",null);s.default=p.exports},"f/dU":function(t,s){}});
//# sourceMappingURL=7.082834c796838fc8cdef.js.map